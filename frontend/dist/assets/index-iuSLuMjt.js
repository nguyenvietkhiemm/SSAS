import{c as N,j as e,d as L,r as o,e as $}from"./index-Bb0eUm93.js";import{E as z,S as E,P as I}from"./index-DT_RVuPE.js";import"./search-xzlOiTW1.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],q=N("grid-3x3",F);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Q=N("list",D),B=({label:a,isActive:c,onClick:r,className:i})=>e.jsx("button",{onClick:r,className:`px-4 py-2 text-sm font-medium rounded-md   ${c?"bg-gray-300 text-gray-800 px-1 py-1":"text-gray-600 hover:text-gray-800"} ${i||""}`,children:a}),O=({tabs:a,activeTab:c,onChange:r,className:i})=>e.jsx("div",{className:`flex bg-gray-200 rounded-md  px-1 py-1   ${i||""}`,children:a.map(l=>e.jsx(B,{label:l.label,isActive:c===l.value,onClick:()=>r(l.value)},l.value))}),V=({users:a,tabs:c,activeTab:r,searchQuery:i,viewMode:l,allSelected:p,currentPage:y,itemsPerPage:f,totalItems:x,onTabChange:j,onSearchChange:b,onToggleStatus:u,onToggleSelect:m,onToggleSelectAll:h,onViewModeChange:d,onPageChange:v,onItemsPerPageChange:S})=>{const k=r==="expert";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Danh sách người dùng"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(z,{})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsx("div",{className:"w-full md:w-auto",children:e.jsx(O,{tabs:c,activeTab:r,onChange:j})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(E,{value:i,onChange:b,placeholder:"Tìm kiếm người dùng...",className:"w-64"}),e.jsxs("div",{className:"flex items-center border rounded-md",children:[e.jsx("button",{className:`p-2 ${l==="list"?"bg-blue-500 text-white":"text-gray-500"}`,onClick:()=>d("list"),"aria-label":"Xem dạng danh sách",children:e.jsx(Q,{className:"h-5 w-5"})}),e.jsx("button",{className:`p-2 ${l==="grid"?"bg-blue-500 text-white":"text-gray-500"}`,onClick:()=>d("grid"),"aria-label":"Xem dạng lưới",children:e.jsx(q,{className:"h-5 w-5"})})]})]})]}),e.jsx(L,{users:a,onToggleSelect:m,onToggleStatus:u,onToggleSelectAll:h,allSelected:p,showCustomers:k}),e.jsx(I,{currentPage:y,itemsPerPage:f,totalItems:x,onPageChange:v,onItemsPerPageChange:S})]})},X=$(),G=[{label:"Tất cả",value:"all"},{label:"Quản Trị Viên",value:"admin"},{label:"Chuyên gia/Bác sĩ",value:"expert"},{label:"Người Sử Dụng",value:"user"}];function K(){const[a,c]=o.useState(X),[r,i]=o.useState("all"),[l,p]=o.useState(""),[y,f]=o.useState("list"),[x,j]=o.useState(a),[b,u]=o.useState(!1),[m,h]=o.useState(1),[d,v]=o.useState(10),S=()=>{let t=[...a];if(r!=="all"){const n={admin:1,expert:2,user:3};t=t.filter(s=>s.role_id===n[r])}if(l){const n=l.toLowerCase();t=t.filter(s=>s.name.toLowerCase().includes(n)||s.email.toLowerCase().includes(n)||s.role_id.toString().includes(n)||s.phone_number.includes(n))}return t};o.useEffect(()=>{const t=S();j(t),h(1)},[a,r,l]);const k=(t,n)=>{c(a.map(s=>s.id===t?{...s,isActive:n}:s))},C=(t,n)=>{const s=a.map(g=>g.id===t?{...g,isSelected:n}:g);c(s);const A=s.every(g=>g.isSelected);u(A)},P=t=>{u(t),c(a.map(n=>({...n,isSelected:t})))},T=t=>{h(t)},M=t=>{v(t),h(1)},w=m*d,U=w-d,_=x.slice(U,w);return e.jsx("main",{className:"container mx-auto py-6 px-4 bg-white shadow z-10 rounded-lg",children:e.jsx(V,{users:_,tabs:G,activeTab:r,searchQuery:l,viewMode:y,allSelected:b,currentPage:m,itemsPerPage:d,totalItems:x.length,onTabChange:i,onSearchChange:p,onToggleStatus:k,onToggleSelect:C,onToggleSelectAll:P,onViewModeChange:f,onPageChange:T,onItemsPerPageChange:M})})}export{K as default};
